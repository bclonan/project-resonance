<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Architecture - Project Resonance</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        .diagram-container {
            border: 1px solid #ecf0f1;
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
            background: #fff;
        }
        .diagram-container svg {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="demo-container">
            <div class="demo-header">
                <h2>System Architecture</h2>
                <nav>
                    <a href="/">Home</a>
                    <a href="/about">About</a>
                    <a href="/research">Research</a>
                </nav>
            </div>
            <div class="prose">
                <h3>System Design: The Resonance Principle</h3>
                <p>The core architectural innovation of Project Resonance is the principle of **mathematical coherence**. The diagram below illustrates the difference between a traditional "best-of-breed" stack and our Resonance stack.</p>
                
                <div class="diagram-container">
                    <svg viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
                        <style>
                            .label { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto; font-size: 14px; }
                            .title { font-size: 18px; font-weight: bold; }
                            .box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 1; }
                            .arrow { stroke: #34495e; stroke-width: 2; marker-end: url(#arrowhead); }
                            .friction { stroke: #e74c3c; stroke-width: 2.5; stroke-dasharray: 4 4; animation: dash 1s linear infinite; }
                            .harmony { stroke: #2ecc71; stroke-width: 2.5; }
                            @keyframes dash { to { stroke-dashoffset: -8; } }
                        </style>
                        <defs><marker id="arrowhead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#34495e" /></marker></defs>
                        
                        <!-- Traditional Stack -->
                        <text x="150" y="30" class="title" text-anchor="middle">Traditional Stack (Friction)</text>
                        <rect x="50" y="50" width="200" height="40" class="box" rx="5"/><text x="150" y="75" class="label" text-anchor="middle">Load Balancer (Nginx)</text>
                        <rect x="50" y="120" width="200" height="40" class="box" rx="5"/><text x="150" y="145" class="label" text-anchor="middle">App Server / Cache (LRU)</text>
                        <rect x="50" y="190" width="200" height="40" class="box" rx="5"/><text x="150" y="215" class="label" text-anchor="middle">Database Router (Hash)</text>
                        <path d="M 150 90 V 120" class="arrow"/>
                        <path d="M 150 160 V 190" class="arrow"/>
                        <path d="M 20 100 C 80 110, 80 170, 20 180" class="friction" fill="none"/>
                        <path d="M 280 100 C 220 110, 220 170, 280 180" class="friction" fill="none"/>
                        <text x="150" y="260" class="label" text-anchor="middle" fill="#c0392b">Hotspots & Inefficiency</text>

                        <!-- Resonance Stack -->
                        <text x="550" y="30" class="title" text-anchor="middle">Resonance Stack (Harmony)</text>
                        <rect x="450" y="50" width="200" height="40" class="box" rx="5"/><text x="550" y="75" class="label" text-anchor="middle">PhiBalancer (φ)</text>
                        <rect x="450" y="120" width="200" height="40" class="box" rx="5"/><text x="550" y="145" class="label" text-anchor="middle">App Server / PhiCache (φ)</text>
                        <rect x="450" y="190" width="200" height="40" class="box" rx="5"/><text x="550" y="215" class="label" text-anchor="middle">PhiDB Router (φ)</text>
                        <path d="M 550 90 V 120" class="arrow"/>
                        <path d="M 550 160 V 190" class="arrow"/>
                        <path d="M 470 95 V 225" class="harmony" fill="none"/>
                        <path d="M 630 95 V 225" class="harmony" fill="none"/>
                        <text x="550" y="260" class="label" text-anchor="middle" fill="#27ae60">Even Distribution & 1.82x Gain</text>
                    </svg>
                </div>

                <h3 style="margin-top: 3rem;">Algorithm Design: Fibonacci Context Modeling</h3>
                <p>The `phicomp` library's innovation comes from its multi-scale approach to finding patterns. Instead of using one fixed-size window to analyze data, it uses several simultaneously, with sizes determined by the Fibonacci sequence. This allows it to model both short-term and long-term data dependencies at the same time.</p>
                
                <div class="diagram-container">
                    <svg viewBox="0 0 800 250" xmlns="http://www.w3.org/2000/svg">
                        <style>.label{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;font-size:14px;}.title{font-size:18px;font-weight:bold;}.box{fill:#ecf0f1;stroke:#bdc3c7;stroke-width:1;}.data{font-family:"Courier New",monospace;font-size:20px;}.window{fill:rgba(52,152,219,0.2);stroke:#3498db;stroke-width:2;}</style>
                        <text x="400" y="30" class="title" text-anchor="middle">Fibonacci Context Modeling (FCM)</text>
                        <text x="400" y="70" class="data" text-anchor="middle">... THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG ...</text>
                        <rect x="425" y="55" width="18" height="25" fill="none" stroke="#e74c3c" stroke-width="2"/>
                        <text x="434" y="100" class="label" text-anchor="middle">Symbol to Predict: 'P'</text>

                        <!-- Fibonacci Windows -->
                        <text x="100" y="140" class="label">Order 2: "UM"</text><rect x="389" y="55" width="36" height="25" class="window" rx="3"/>
                        <text x="100" y="170" class="label">Order 3: "JUM"</text><rect x="371" y="55" width="54" height="25" class="window" rx="3"/>
                        <text x="100" y="200" class="label">Order 5: "FOX JUM"</text><rect x="335" y="55" width="90" height="25" class="window" rx="3"/>
                        <text x="100" y="230" class="label">Order 8: "OWN FOX JUM"</text><rect x="281" y="55" width="144" height="25" class="window" rx="3"/>
                        
                        <text x="550" y="180" class="label" text-anchor="middle">All contexts are analyzed simultaneously,</text>
                        <text x="550" y="200" class="label" text-anchor="middle">with weights determined by the Golden Ratio.</text>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</body>
</html>